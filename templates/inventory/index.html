{% extends 'inventory/base.html' %}
{% load i18n %}
{% block content %}
  <div class="page-header">
    <h2>{% trans "Items" %}</h2>
    <a href="{% url 'inventory:item_create' %}" class="btn btn-primary add-button" title="{% trans 'Add new item' %}">
      <span class="btn-icon">➕</span>
      <span class="btn-text">{% trans "Add Item" %}</span>
    </a>
  </div>
  <table>
    <thead>
      <tr>
        <th>{% trans "Name" %}</th>
        <th>{% trans "Desired" %}</th>
        <th>{% trans "Current" %}</th>
        <th>{% trans "Missing" %}</th>
        <th>{% trans "Locations" %}</th>
        <th>{% trans "Tags" %}</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for item in items %}
      <tr>
        <td>{{ item.name }}</td>
        <td>{{ item.desired_quantity }}</td>
        <td>{{ item.current_quantity }}</td>
        <td>{{ item.missing_quantity }}</td>
        <td>
          {% for loc in item.locations.all %}
            <span class="tag">{{ loc.name }}</span>
          {% empty %}
            —
          {% endfor %}
        </td>
        <td>
          {% for tag in item.tags.all %}
            <span class="tag">{{ tag.name }}</span>
          {% empty %}
            —
          {% endfor %}
        </td>
        <td class="actions">
          <a class="btn btn-primary" href="/items/{{ item.id }}/edit/">{% trans "Edit" %}</a>
          <a class="btn btn-danger" href="/items/{{ item.id }}/delete/">{% trans "Delete" %}</a>
        </td>
      </tr>
      {% empty %}
        <tr><td colspan="7">{% trans "No items yet." %}</td></tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
